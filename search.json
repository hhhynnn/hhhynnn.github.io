[{"title":"hexo语法","url":"/2023/03/31/tips/hexo/hexo%E8%AF%AD%E6%B3%95/","content":"不常使用 hexo，干脆把 hexo 常用命令直接写进博客里，方便自己看 \n\n\n\n# 创建博客$ hexo new post --path tips/hexo/hexo语法 &quot;hexo语法&quot;# 本地调试, 发布到 44944 端口$ hexo s -p 44944# 发布到服务器$ hexo g -d# 这个命令也是发布到服务器$ npm run deploy\n\n\n删除博客只需要直接删除本地文件, 然后 clean\n$ hexo clean$ hexo g","categories":["tips"],"tags":["hexo"]},{"title":"hexo部署到服务器","url":"/2023/03/31/tips/hexo/hexo%E9%83%A8%E7%BD%B2%E5%88%B0%E6%9C%8D%E5%8A%A1%E5%99%A8/","content":"这个部署过程还挺坑，记录一下方面自己复刻, 主要是配置服务器的 nginx 和 git\n\n\n\n\n(1) 服务器配置主要分为 git 远程连接配置，git hook 文件配置，nginx 主页配置这三步\n参考教程：在自己的服务器上部署 hexo 博客\n配置服务器的第一步是设置无密码登陆，即在服务器上修改 ~/.ssh/authorized_keys文件，把客户端的~/ssh/id_rsa.pub复制到里面，即可实现直接 ssh 链接，不需要密码验证（github 的 ssh 连接原理也是如此）\n$ vim ~/.ssh/authorized_keys---(把自己电脑的 id_rsa.pub 数据复制到文件里)---\n\n1 配置服务器 nginx 服务重装过一遍服务器系统，ssh 登陆不上了\n解决办法是本地 .ssh 文件夹内的 kowns_hosts 删除服务器相关项目\n1. 卸载已存在的 nginx如果已存在 nginx 可以考虑卸载了。。。方便跟教程\n# 查找 nginx 相关文件whereis nginx | tr &#x27; &#x27; &#x27;\\n&#x27;# 删除上述文件/文件夹rm -rf  xxxx/nginx# 删除 nginxapt-get remove nginx*\n\n2. 下载 nginx# 进入安装目录cd /usr/local/src/# 下载wget http://nginx.org/download/nginx-1.22.0.tar.gz# 解压tar -xvf nginx-1.22.0.tar.gz# 重命名mv  nginx-1.10.2  nginx\n\n3. 编译 nginx# 进入目录并编译安装$ cd nginx# 安装编译必须的包$ apt-get install libpcre3 libpcre3-dev# 编译$ ./configure$ make$ make install# 设置 ngxin 的快捷执行$ alias nginx=/usr/local/nginx/sbin/nginx# 通过修改环境变量的方式也可以让 nginx 快捷执行（没必要, alias 够了）$ vim ~/.bashrc---# 添加这一句话export PATH=$PATH:/usr/local/nginx/sbin/---$ source ~/.bashrc\n\n\n\n4. 设置服务器主页文件夹方法是修改nginx.conf 文件，如下步骤\n找到 conf 文件\n下面看到了两个 nginx.conf，我们选择 nginx 文件夹下存在 sbin 文件夹的那个路径\n$ find / -name nginx.conf----/usr/local/nginx/conf/nginx.conf/usr/local/src/nginx/conf/nginx.conf\n\n修改 conf 文件\n特别注意： /root/blog/public 这个路径是将来服务器主页的地址，后面配置 git 的 hook 函数时也要用到这个地址！！\n$ vim /usr/local/nginx/conf/nginx.conf---# 添加 user root;user root;...http&#123;  ...  server &#123;    location / &#123;      # 修改为 root /root/blog/public; 后面我们的服务器主页就设置在这个文件夹下      root /root/blog/public;    &#125;  &#125;&#125;\n\n5. 运行 nginx# 查看 80 端口占用并 kill$ netstat -lnp | grep 80-----tcp6       0      0 :::80                   :::*                    LISTEN      42464/apache2-----# 强制杀死进程 42464，这个数字在上面的输出中有出现$ kill -9 42464# apache2 的占用比较特殊，需要手动关闭$ service apache2 stop# 启动 nginx$ nginx# 查看端口占用, nginx 主页是 80 端口$ lsof -i:80\n\n6. 重启 ngxinx# 重启$ nginx -s reload\n\n2 配置 git 仓库安装 git\n$ apt-get updata$ apt-get upgrade$ apt-get install git-all\n\n新建 git 仓库\n# 新建空仓库$ cd /root/blog/$ git init --bare zenithBlog.git\n\n添加 hook 用文件\n特别注意，配置 git 的 hook时，要用到配置 nginx 时定义的服务器主页地址  /root/blog/public\n# 新建 post-receive 文件$ vim ./zenithBlog.git/hooks/post-receive# 写 hook 文件# --work-tree 是 nginx.conf 中定义的服务器主页地址# --git-dir 是 hexo-deploy 的目标文件夹，也就是你刚刚创建的那个-----#!/bin/shgit --work-tree=/root/blog/public --git-dir=/root/blog/zenithBlog.git checkout -f-----\n\n修改 post-receive 为可执行\n$ chmod +x ./zenithBlog.git/hooks/post-receive\n\n\n\n（2）本地配置本地配置只有一个，修改_config.yml，定义博客的部署方式，注意把下面的 ip 地址改成服务器地址\n# ./zenithBlog/_config.ymldeploy:  type: git  repo: root@xxx.xxx.xxx.xxx:/root/blog/zenithBlog.git  branch: master\n\n安装 git 部署工具\n# ./zenithBlog/&gt; npm install hexo-deployer-git --save\n\n\n\n（3） 部署本地执行部署命令即可\n# 部署到 hexohexo g -d\n","categories":["tips"],"tags":["hexo"]},{"title":"搭建hexo博客","url":"/2023/03/31/tips/hexo/%E6%90%AD%E5%BB%BAhexo%E5%8D%9A%E5%AE%A2/","content":"个人配置 hexo 的记录，参考了 B 站的教程。\n\n\n\n参考教程：手把手教你从 0 开始搭建自己的个人博客 |无坑版视频教程| hexo\nHello, world先让博客跑起来，下面从本地配置 hexo 到远程部署博客进行描述\n一、 基础工具：node, npm，git, hexowindows 下直接安装 node.js 即可，git 肯定都有不必多说, hexo 是用 npm 下载下来的，很方便\n1. 安装 node.jswindows 下自己找个教程安装 nodejs\n下载地址：node.js 官方下载\n安装说明：nodeJS 的安装与配置\n2. 安装和配置 git注：git 不仅要安装，而且需要配置名字和 email\n① 安装 git下面是 linux 下安装 git 的方法，windows 在官网找安装包\n$ apt-get updata$ apt-get upgrade$ apt-get install git-all\n\n② 设置账户信息安装完 git 后需要先创建个名字和 email 地址\n$ git config --global user.name &quot;Your Name&quot;$ git config --global user.email &quot;email@example.com&quot;# 查看已有的配置git config --listgit config --global --list\n\n然后创建 SSH Key, 用于将博客部署到 github, 如果不想部署到 github 就不用这一步\n$ cd ~/.ssh$ ls -a\n\n如果~/ssh目录里没有 id_rsa 和 id_rsa.pub （多半没有），则敲以下指令：\n# 下面的 email 和 前面的 user.email 要匹配$ ssh-keygen -t rsa -C &quot;email@example.com\n\n此时./ssh中会生成 id_rsa 和 id_rsa.pub 两个文件，其中id_rsa是私钥，id_rsa.pub是公钥\n注意这个id_rsa.pub文件，之后会用到\n3. 安装 hexo敲命令，这个命令在 hexo 官网上有介绍，具体可以查看hexo 官网\n$ sudo npm install -g hexo-cli\n\nwindows 下管理员权限运行一个终端，使用 npm 即可\n(忘了加 sudo 把我坑死了，npm 提示说什么是代理的问题，结果并不能解决问题)\n二、生成本地文件1. 初始化一个目录选择一个喜欢的路径新建文件夹，敲以下命令初始化一个博客目录\n这个命令会新建一个ZenithBlog文件夹，并加载一系列组件\n$ sudo hexo init ZenithBlog\n\nPS.我在这里遇到了个坑，提示说我无法连接\n(2023.3.30 考古: 我设置这个代理之后反而不能正常连接了, 坑爹)\n解决办法是设置 git 的代理，敲以下代码：（我的代理端口是 10808，协议是 socks5)\n$ git config --global http.proxy socks5://127.0.0.1:10808$ git config --global https.proxy socks5://127.0.0.1:10808\n\n将来想要取消代理可以输入:\n$ git config --global --unset http.proxy$ git config --global --unset https.proxy\n\n想要查看 git 的 config 配置信息可以输入:\n$ git config --system --list$ git config --global  --list$ git config --local  --list\n\n2. 在目录中安装必要组件进入ZenithBlog并敲以下命令进一步加载一些组件\n$ cd ZenithBlog$ sudo npm install\n\n现在即可启动 hexo，访问本地 4000 端口即可，也可通过以下指令指定端口进行访问\n以 44944 端口为例：\n$ hexo s -p 44944\n\n在浏览器访问 localhost:44944即可\n3. 部署到 githubstep1. 在ZenithBlog/目录下载必要组件\n这个组件非常重要，利用 git 来部署专用，不论是部署到 github 还是部署到阿里云都需要。\n$ npm install hexo-deployer-git --save\n\nstep2. 修改在ZenithBlog/_config.yml 中的 deploy值\n注意把下面的 git 地址改成自己的 github 相关地址\ndeploy:  type: git  repo: git@github.com:hhhynnn/hhhynnn.github.io.git  branch: master\n\nstep3. 把博客代码 push 到 github 上去，注意不要包括 /public 目录\nps. 需要提前创建 hhhnnn.github.io 这个项目, hhhynnn 是 github 用户名，貌似必须使用用户名\n$ git add remote origin git@github.com:hhhynnn/hhhynnn.github.io.git$ git push -u origin main\n\n主题美化一、切换主题主题资源地址： Themes，东西很多，随便找\n下面介绍如何配置主题 maupassant-hexo\n先下载主题到ZenithBlog/themes/maupassant目录\n$ git clone git@github.com:tufu9441/maupassant-hexo.git ./themes/maupassant\n\n按照主题作者的要求，下载必须要组件\n$ npm install hexo-renderer-pug --save$ npm install hexo-renderer-sass --save\n\n修改ZenithBlog/_config.yml文件的theme值\ntheme: maupassant\n\n清除原文件（非必需），重新生成文件，部署到远端\n$ hexo clean$ hexo g$ hexo d\n\nPS.此处推荐另一个主题 Kratos-Rebirth\n介绍更换到主题even根据作者的描述，需要输入以下代码\n$ npm install hexo-renderer-scss hexo-renderer-swig --save$ git clone https://github.com/ahonn/hexo-theme-even themes/even$ cp themes/even/_config.yml.example themes/even/_config.yml\n\n二、配置主题界面以 maupassant 为例\n先修改ZenithBlog/_config.yml文件中的以下值\n# Sitetitle: &quot;Zenith&quot;subtitle: &quot;Studying and loving you~&quot;description: &quot;Zenith&quot;keywords:  - &quot;笔记&quot;  - &quot;HTML&quot;author: Zenithlanguage: zh-CNtimezone: &quot;Asia/Shanghai&quot; #网站时区url: https://hyinan.com/ #网站域名\n\n再修改ZenithBlog/themes/maupassant/_config.yml，修改以下值\n## 修改顶部菜单栏，把about和rss去掉（这俩指向了无用链接）menu:  - page: home    directory: .    icon: fa-home  - page: archive    directory: archives/    icon: fa-archive  # - page: about  #   directory: about/  #   icon: fa-user  # - page: rss  #   directory: atom.xml  #   icon: fa-rss## 修改侧边栏，把search去掉widgets: ## Six widgets in sidebar provided: search, category, tag, recent_posts, recent_comments and links.  #  - search  - category  - tag  - recent_posts  - recent_comments  - links## 修改相关链接links:  - title: Bilibili    url: https://space.bilibili.com/434460090  - title: 电影资源    url: http://www.yinfans.me/  - title: 动漫资源    url: https://vcb-s.com/  - title: 壁纸资源    url: wallhaven.cc\n\n\n\n\n\n\n\n写作指南下面主要描述一下如何引用链接、插入图片、设置文章的标签和类别等。\n一、markdown 引用链接链接主要就是指图片链接，需要用到 hexo-asset-image 这个插件，下面进行介绍\nnpm install hexo-asset-image --save\n\n1. 引用图片先确保_config.yml满足：post_asset_folder: true\n这个组件目前有 bug（记录于 2020.05.27）\n解决方案为将文件node_modules/hexo-asset-image/index.js替换为如下的内容：\n&quot;use strict&quot;;var cheerio = require(&quot;cheerio&quot;);// http://stackoverflow.com/questions/14480345/how-to-get-the-nth-occurrence-in-a-stringfunction getPosition(str, m, i) &#123;  return str.split(m, i).join(m).length;&#125;var version = String(hexo.version).split(&quot;.&quot;);hexo.extend.filter.register(&quot;after_post_render&quot;, function (data) &#123;  var config = hexo.config;  if (config.post_asset_folder) &#123;    var link = data.permalink;    if (version.length &gt; 0 &amp;&amp; Number(version[0]) == 3)      var beginPos = getPosition(link, &quot;/&quot;, 1) + 1;    else var beginPos = getPosition(link, &quot;/&quot;, 3) + 1;    // In hexo 3.1.1, the permalink of &quot;about&quot; page is like &quot;.../about/index.html&quot;.    var endPos = link.lastIndexOf(&quot;/&quot;) + 1;    link = link.substring(beginPos, endPos);    var toprocess = [&quot;excerpt&quot;, &quot;more&quot;, &quot;content&quot;];    for (var i = 0; i &lt; toprocess.length; i++) &#123;      var key = toprocess[i];      var $ = cheerio.load(data[key], &#123;        ignoreWhitespace: false,        xmlMode: false,        lowerCaseTags: false,        decodeEntities: false,      &#125;);      $(&quot;img&quot;).each(function () &#123;        if ($(this).attr(&quot;src&quot;)) &#123;          // For windows style path, we replace &#x27;\\&#x27; to &#x27;/&#x27;.          var src = $(this).attr(&quot;src&quot;).replace(&quot;\\\\&quot;, &quot;/&quot;);          if (!/http[s]*.*|\\/\\/.*/.test(src) &amp;&amp; !/^\\s*\\//.test(src)) &#123;            // For &quot;about&quot; page, the first part of &quot;src&quot; can&#x27;t be removed.            // In addition, to support multi-level local directory.            var linkArray = link.split(&quot;/&quot;).filter(function (elem) &#123;              return elem != &quot;&quot;;            &#125;);            var srcArray = src.split(&quot;/&quot;).filter(function (elem) &#123;              return elem != &quot;&quot; &amp;&amp; elem != &quot;.&quot;;            &#125;);            if (srcArray.length &gt; 1) srcArray.shift();            src = srcArray.join(&quot;/&quot;);            $(this).attr(&quot;src&quot;, config.root + link + src);            console.info &amp;&amp;              console.info(&quot;update link as:--&gt;&quot; + config.root + link + src);          &#125;        &#125; else &#123;          console.info &amp;&amp; console.info(&quot;no src attr, skipped...&quot;);          console.info &amp;&amp; console.info($(this));        &#125;      &#125;);      data[key] = $.html();    &#125;  &#125;&#125;);\n\n在文章中引用图片的方法如下，以每日必读.md为例\n注：每日必读/文件夹和每日必读.md必须满足“同名”且“处在同一文件夹下\n且路径一定不能有空格（最好不要中英文混用，否则 vscode 的自动格式化会在中英文之间加空格）\n![](./每日必读/xxx)\n\n二、分类和标签参考教程： hexo 文档之 front-matter\n1. 分类 categories层次分类用 categories，如下面的分类表示本文章属于 Dirary-&gt;Life 类（Dirary 是父类）\ncategories:  - Diary  - Life\n\n一篇文章可以同时处于多个分类模块下，每一个都要用-[]标记\n举例：下面的分类表示文章属于 Diary-&gt;PlayStation，也属于 Diary-&gt;Gage，也属于 Life\ncategories:  - [Diary, PlayStation]  - [Diary, Games]  - [Life]\n\n2. 标签 tags标签很粗暴，直接连续写下去\n举例：下面的分类表示文章属于 PS3 和 Games\ntags:  - PS3  - Games\n\n踩坑arknights 主题无法在服务器上正确渲染，百思不得其解目前已经尝试过方法\n\n部署到本地或github，发现都能正确渲染\n更新服务器 node.js 版本，发现仍然不能正确渲染\n\n一、nginx 已安装，但文件混乱强烈建议重装 nginx，下面是我硬着头皮没重装，进行的尝试：\n网上说直接配置 nginx.conf, 使用  find / -name nginx.conf 命令可以找到这个文件\n但我的 nginx 是系统自带的，这个配置文件里没有关于 80 端口的配置\n不过在配置文件里看到了一句话 include /etc/nginx/modules-enables/*.conf，指出了其他配置文件目录也存在配置文件，几经转折，终于找到了有关 80 端口的配置，在 /etc/nginx/sites-available/default 这个文件内\n# 这文件的名字甚至都不是 nginx.conf，是真的坑爹$ vim /etc/nginx/sites-available/default------user root;...server &#123;    # 这两项用于定位， 一定是监听 80 端口的 server    listen 80 default_server;    listen [::]:80 default_server;    # 主页文件的 usr, dir    root /var/www/zenith;    index index.html index.htm index.nginx-debian.html;    server_name hyinan.com;&#125;\n","categories":["tips"],"tags":["hexo"]},{"title":"latex","url":"/2023/04/01/tips/latex/","content":"简单记一下 latex 相关的记法\n\n\n环境配置问题众所周知，latex 的编译属于老大难问题\n一、使用模板提示“缺少 .sty 文件”假设你已经有 .sty 文件了，现在的主要问题就是 .sty 文件放在哪里：① 放在 .tex 所在目录下；② 放在 latex 的 .sty 库目录下；\n下面介绍方法 ②\nstep1. 输入 kpsewhich --var-value=TEXMFHOME，按回车，得到一个路径,打开这个路径（文件夹）。如果路径中的某一层或几层文件夹不存在，就创建它们\nstep2. 最后会位于 texmf 文件夹。 在 texmf 中创建 tex 文件夹，在 tex 文件夹中创建 latex 文件夹。（把现在的路径记为 TEXMFHOME/tex/latex）\n\nstep3. 在 latex 文件夹下创建一个与 .sty 同名的文件夹，然后把 .sty 放进新建的这个文件夹里\n如上图所示，我的 picins.sty 就存放在 picins 文件夹内\n目前已经下载的包：\n\nnexus.sty, 下载地址一个漂亮的LaTeX模板设计\n\neasyphys.sty, 下载地址 Elegentbook魔改版\n\n\n命令我用的是 texlive，简单记一下命令\n# 查看某个 .sty 是否存在$ kpsewhich &lt;package-name&gt;.sty# 查看所有的已安装包$ tlmgr list --only-installed# 查看 texlive 版本$ latex -v\n\n排版一、公式Latex 的一大优势就是编辑公式，下面进行介绍\n此外强推一个网站，可以识别手写符号：Detexify LaTeX handwritten symbol recognition (kirelabs.org)\n1. 不同的公式编辑公式分为行内公式和行间公式，下面分别进行说明\n① 行内公式行内公式统一使用$...$来表达. $前后一般要有空格, 除非公式后面有标点符号\n② 行间公式对于行间公式, 要么编号, 要么不编号; 要么单行, 要么多行. 通过组合之后可知行间公式有四种: 单行编号、单行不编号、多行编号和多行不编号. 下面对每种公式的写法逐一介绍.\n单行编号\\begin&#123;equation&#125;\\label&#123;...&#125;\\int_0^1f(t)dt = \\iint_Dg(x,y)dxdy.\\end&#123;equation&#125;\n\n单行不编号不编号公式应避免使用 $$...$$, 因为它可能会产生不良间距. 可以用\n\\[\\int_0^1f(t)dt = \\iint_Dg(x,y)dxdy.\\]\n\n也可以这样写\n\\begin&#123;equation*&#125;\\int_0^1f(t)dt = \\iint_Dg(x,y)dxdy.\\end&#123;equation*&#125;\n\n多行编号多行用 &amp; 对齐，公式如下\n\\begin&#123;equation&#125;\\label&#123;...&#125;\\begin&#123;split&#125;\\frac&#123;1&#125;&#123;2&#125; (\\sin(x+y) + \\sin(x-y)) =&amp; \\frac&#123;1&#125;&#123;2&#125;(\\sin x \\cos y + \\cos x \\sin y)\\\\&amp; + \\frac&#123;1&#125;&#123;2&#125; (\\sin x \\cos y - \\cos x \\sin y)\\\\=&amp; \\sin x \\cos y.\\end&#123;split&#125;\\end&#123;equation&#125;\n\n另一个例子\n\\begin&#123;equation&#125;\\label&#123;...&#125;\\begin&#123;dcases&#125;\\frac&#123;dS&#125;&#123;dt&#125; = \\Lambda - \\beta SI - \\mu S -\\mu_1 mZS + \\delta_0R, \\\\\\frac&#123;dI&#125;&#123;dt&#125; = \\beta SI - (\\mu+\\delta+\\gamma)I.\\end&#123;dcases&#125;\\end&#123;equation&#125;\n\n\n\n多行不编号例子如下\n\\begin&#123;align*&#125;\\frac&#123;1&#125;&#123;2&#125; (\\sin(x+y) + \\sin(x-y)) =&amp; \\frac&#123;1&#125;&#123;2&#125;(\\sin x \\cos y + \\cos x \\sin y)\\\\&amp; + \\frac&#123;1&#125;&#123;2&#125; (\\sin x \\cos y - \\cos x \\sin y)\\\\=&amp; \\sin x \\cos y.\\end&#123;align*&#125;\n\n\n\n二、引用包括图片、公式和参考文献的引用。（todo）\n三、表格表格可以进行合并操作，但语法有点点复杂，而且并不是所见即所得，还是比较考研操作。\n此外列表的语法也记录在这里\n① 表格这里是表格相关的语法。（todo）\n② 列表下面记录一下 latex 相关的排版\n封面横线排版使用了下面这种写法\n\\begin&#123;spacing&#125;&#123;2.5&#125;    \\begin&#123;center&#125;        &#123;\\zihao&#123;-3&#125; \\textbf&#123;学\\quad\\quad 院&#125;         \\underline&#123;\\makebox[17em][c]&#123;\\zihao&#123;-3&#125;\\kaishu xxxxxx&#125;&#125;&#125; \\par        &#123;\\zihao&#123;-3&#125; \\textbf&#123;专\\quad\\quad 业&#125;         \\underline&#123;\\makebox[17em][c]&#123;\\zihao&#123;-3&#125;\\kaishu xxxxxxxxxx&#125;&#125;&#125; \\par        &#123;\\zihao&#123;-3&#125; \\textbf&#123;学生姓名&#125;         \\underline&#123;\\makebox[17em][c]&#123;\\zihao&#123;-3&#125;\\kaishu xxx&#125;&#125;&#125; \\par        &#123;\\zihao&#123;-3&#125; \\textbf&#123;学生学号&#125;         \\underline&#123;\\makebox[17em][c]&#123;\\zihao&#123;-3&#125;\\kaishu xxxxxxxxxx&#125;&#125;&#125; \\par        &#123;\\zihao&#123;-3&#125; \\textbf&#123;指导老师&#125;         \\underline&#123;\\makebox[17em][c]&#123;\\zihao&#123;-3&#125;\\kaishu xxx&#125;&#125;&#125; \\par        &#123;\\zihao&#123;-3&#125; \\textbf&#123;提交时间&#125;         \\underline&#123;\\makebox[17em][c]&#123;\\zihao&#123;-3&#125;\\kaishu 2023年4月1日&#125;&#125;&#125; \\par    \\end&#123;center&#125;\\end&#123;spacing&#125;","categories":["tips"],"tags":["latex"]}]